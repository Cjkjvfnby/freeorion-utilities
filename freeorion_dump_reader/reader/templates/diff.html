{% extends "base.html" %}
{% load items_tags %}
{% block title %}Game {{ game }}{% endblock %}

{% block breadcrumbs %}
  {{block.super}}
        / <a href="{% url 'game' game=game %}">{{ game }}</a>
{% endblock%}

{% block content %}
<div id="content-main">
    <h2>Compare {{ turn1 }} and {{ turn2 }} of {{ section }}</h2>

    {% for item in diff %}

    <table width="50%" class="table table-striped table-bordered table-hover table-condensed table-responsive">
        {% for key, first, second in item %}
        {% if forloop.first %}
        <tr>
            <th colspan="3" class={% if first == second %}
                "warning">{{ key }} {{ first }} was changed
            {% elif not first %}
                "success">{{ key }} {{ second }} was added
            {% else %}
                "danger">{{ key }} {{ first }} was removed
            {% endif %}</th>
        </tr>
        {% else %}
        <tr>
            <td width="10%">{{ key }}</td>
            <td width="30%">{{ first|default:""|cell:key }}</td>
            <td width="30%">{{ second|default:""|cell:key }}</td>
        </tr>
        {% endif %}
        {% endfor %}

    </table>
    {% empty %}
        Content is same.
    {% endfor %}

</div>
{% endblock %}

